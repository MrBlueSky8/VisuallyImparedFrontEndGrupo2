<div class="title-container">
    <h1>{{ edicion ? 'Editar Historial' : 'Registrar Historial' }}</h1>
  </div>
  <div class="form-container">
    <form [formGroup]="form" (ngSubmit)="aceptar()">

      <!-- C贸digo (solo en edici贸n) -->
      <mat-form-field *ngIf="edicion">
        <mat-label>C贸digo</mat-label>
        <input matInput formControlName="codigo" readonly/>
      </mat-form-field>
      <br />
    
      <!-- Usuario -->
      <mat-form-field>
        <mat-label>Usuario</mat-label>
        <mat-select formControlName="user_id" required>
          <mat-option *ngFor="let usuario of usuarios" [value]="usuario.idUsuario">
            {{ usuario.email }}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('user_id')?.hasError('required')">
          El usuario es obligatorio.
        </mat-error>
      </mat-form-field>
      <br />

      <!-- rutas_seguras -->
      <mat-form-field>
        <mat-label>Ruta</mat-label>
        <mat-select formControlName="rutas_seguras_id" required>
          <mat-option *ngFor="let rutas of Rutas_seguras" [value]="rutas.id">{{rutas.descripcion}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="form.get('rutas_seguras_id')?.hasError('required')">
          La ruta es un campo obligatorio
        </mat-error>
      </mat-form-field>
      <br />

    <!-- Fechayhora_inicio -->
      <mat-form-field appearance="fill" class="example-full-width">
        <input matInput placeholder="Ingrese fecha de inicio" [matDatepicker]="pickerInicio" formControlName="fechayhora_inicio" />
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matSuffix [for]="pickerInicio"></mat-datepicker-toggle>
        <mat-datepicker #pickerInicio></mat-datepicker>
        <mat-error *ngIf="form.get('fechayhora_inicio')?.hasError('required')">La fecha de inicio es obligatoria.</mat-error>
      </mat-form-field>
      <br />

      <!-- Fechayhora_destino -->
      <mat-form-field appearance="fill" class="example-full-width">
        <input matInput placeholder="Ingrese fecha de destino" [matDatepicker]="pickerDestino" formControlName="fechayhora_destino" />
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matSuffix [for]="pickerDestino"></mat-datepicker-toggle>
        <mat-datepicker #pickerDestino></mat-datepicker>
        <mat-error *ngIf="form.get('fechayhora_destino')?.hasError('required')">La fecha de destino es obligatoria.</mat-error>
      </mat-form-field>
      <br />
  
      <!-- Finalizado -->
      <mat-form-field>
        <mat-label>Estado</mat-label>
        <mat-select formControlName="finalizado">
            <mat-option [value]="true">Habilitado</mat-option>
            <mat-option [value]="false">No Habilitado</mat-option>
          </mat-select>
          <mat-error *ngIf="form.get('finalizado')?.hasError('required')">
            El estado es obligatorio.
          </mat-error>
      </mat-form-field>
      <br />

          <!-- Contenido -->
          <mat-form-field>
            <mat-label>Detalle</mat-label>
            <input matInput formControlName="detalles" required/>
            <mat-error *ngIf="form.get('detalles')?.hasError('required')">
              El campo Detalles es obligatorio.
            </mat-error>
          </mat-form-field>
          <br />
  
      <!-- Bot贸n Aceptar -->
      <div class="button-container">
        <button mat-raised-button color="primary">Aceptar</button>
      </div>
    </form>
  </div>

